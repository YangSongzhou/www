function FullPage(a){function b(a,b,c,d){this.cx=3*a,this.bx=3*(c-a)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*b,this.by=3*(d-b)-this.cy,this.ay=1-this.cy-this.by}var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=document.getElementById(a.id),z=y.children,A=z.length,B=A,C=a.slideTime||800,D=a.effect||{},E=0,F=[],G=[],H=null,I=!1,J=!1;if(z&&1!==A){for(a.mode&&(J=-1!==a.mode.indexOf("nav:"),G=a.mode.split(","),l=G.length),o=0;A>o;o++)F.push(z[o].style);if(c=!!window.addEventListener,d="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,function(){var a,b=navigator.userAgent,c=b.indexOf("Android");return p=-1!==b.indexOf("QQBrowser")?200:0,-1!==c&&(a=b.substring(c+7,c+11).replace(" ","")),a||0}(),e=function(a){switch(!0){case""===a.webkitTransition:return"webkit";case""===a.MozTransition:return"Moz";case""===a.msTransition:return"ms";case""===a.OTransition:return"O";default:return""}}(document.createElement("Chriswang").style),b.prototype={epsilon:1e-5,sampleCurveX:function(a){return((this.ax*a+this.bx)*a+this.cx)*a},sampleCurveY:function(a){return((this.ay*a+this.by)*a+this.cy)*a},sampleCurveDerivativeX:function(a){return(3*this.ax*a+2*this.bx)*a+this.cx},solveCurveX:function(a,b){var c,d,e,f;for(e=a,d=0;8>d;d++){if(f=this.sampleCurveX(e)-a,Math.abs(f)<b)return e;if(c=this.sampleCurveDerivativeX(e),Math.abs(c)<b)break;e-=f/c}if(c=0,d=1,e=a,c>e)return c;if(e>d)return d;for(;d>c&&(f=this.sampleCurveX(e),!(Math.abs(f-a)<b));)a>f?c=e:d=e,e=.5*(d-c)+c;return e},solve:function(a,b){return this.sampleCurveY(this.solveCurveX(a,b))}},q=function(){f=document.documentElement.clientWidth||window.innerWidth,g=document.documentElement.clientHeight||window.innerHeight,y.style.height=g+"px"},o=function(a,b,c,d){h=a,i=b,j=c,k=d},"string"==typeof a.easing)switch(a.easing){case"ease":o(.25,.1,.25,1);break;case"linear":o(0,0,1,1);break;case"ease-in":o(.42,0,1,1);break;case"ease-out":o(0,0,.58,1);break;case"ease-in-out":o(.42,0,.58,1)}else o(a.easing[0],a.easing[1],a.easing[2],a.easing[3]);if(""!==e){for(;B--;)F[B][e+"TransitionTimingFunction"]="cubic-bezier("+h+","+i+","+j+","+k+")";r=function(a,b,c,d,f){a=a.style,b="translate("+b+"px,"+c+"px) translateZ(0)",f.scale&&(b+=0===d?" scale("+f.scale[0]+")":" scale("+f.scale[1]+")"),f.rotate&&(b+=0===d?" rotate("+f.rotate[0]+"deg)":" rotate("+f.rotate[1]+"deg)"),a[e+"TransformOrigin"]="50% 50%",a[e+"Transform"]=b}}else n=new b(h,i,j,k),r=function(a,c,d,e){var f,g=a.currentStyle,h=a.style,i=parseInt(h.left||g.left,10),j=parseInt(h.top||g.top,10),k=c-i,l=d-j,m=+new Date+e,o=0,p=D.opacity;clearInterval(H),H=setInterval(function(){var a;+new Date>m?(a=p?"left:"+c+"px;top:"+d+"px;filter:alpha(opacity="+100*p[1]+");":"left:"+c+"px;top:"+d+"px;",clearInterval(H)):(f=m-new Date,o=f/e,o=n.solve(1-o,b.prototype.epsilon),a="left:"+(i+k*o)+"px;top:"+(j+l*o)+"px;",p&&(a+="filter:alpha(opacity="+100*(p[1]*o-p[0]*(1-o))+");")),h.cssText=a},13)};for(s={transform:function(a,b,c){var d=0,h=""!==e||"none"!==a.translate&&a.translate?p:-50;switch(a.translate){case"Y":d=c>b?g:-g,r(z[c],0,d,0,a);break;case"X":d=c>b?f:-f,r(z[c],d,0,0,a);break;case"XY":d={X:c>b?f:-f,Y:c>b?g:-g},r(z[c],d.X,d.Y,0,a);break;default:r(z[c],0,0,0,a)}setTimeout(function(){r(z[c],0,0,C,a)},h+50)},opacity:function(a,b,c){var d=z[c].style;d.opacity=a[0],setTimeout(function(){d.opacity=a[1]},70)}},t=c&&d?navigator.userAgent.indexOf("Firefox")?function(a,b){a.addEventListener("click",b,!1)}:function(a,b,c){a.addEventListener("touchstart",b,!1),c&&a.addEventListener("touchmove",function(a){a.preventDefault()},!1)}:function(a,b){a.onclick=b},u=function(a,b,c){var d=a.className,e=[];if(-1!==d.indexOf(b)){for(e=d.split(" "),d=e.length;d--;)e[d]===b&&(" "===c||""===c?e.splice(d,1):e[d]=c);e.length?a.className=e.join(" "):(a.removeAttribute("class"),a.removeAttribute("className"))}},J&&(w=function(a,b){var c=m[b].className;u(m[a],"active"," "),m[b].className=""===c?"active":c+" active"}),v=function(b){var c,d,f=p;if(!(I||b===E||b>=A||0>b)){I=!0;for(d in D)s[d](D[d],E,b);f+=""===e?20:0,c=E,E=b,J&&w(c,E),setTimeout(function(){z[b].className+=" slide"},f),setTimeout(function(){F[b][e+"TransitionDuration"]=C+"ms"},20),setTimeout(function(){u(z[c],"current",""),u(z[E],"slide","current"),a.callback&&a.callback(E,z[E]),I=!1},C+p+120)}},q(),o=z[E].className,z[E].className=-1!==o.indexOf("current")?o:o+" current",c?window.addEventListener("resize",q,!1):window.onresize=q;l--;)(function(b){switch(!0){case"wheel"===b:x=function(a){a=a||window.event,a.preventDefault?a.preventDefault():a.returnValue=!1,I||(a=-a.wheelDelta||a.detail,v(E+(0>a?-1:1)))},c&&document.addEventListener("DOMMouseScroll",x,!1),window.onmousewheel=document.onmousewheel=x;break;case"touch"===b:if(!d||!c)break;!function(){var b,c,d,h,i,j,k,l,m,n,o,p,q=D.transform.scale[0],r=D.transform.scale[1]-q,s=D.transform.rotate[0],t=D.transform.rotate[1]-s,v=D.opacity[0],x=D.opacity[1]-v,B={},G=!1;"Y"===D.transform.translate?(l=function(){j=F[E-1],k=F[E+1],j&&(j[e+"TransitionDuration"]="0ms",j[e+"Transform"]="translate(0,-"+g+"px) translateZ(0)",j[e+"TransformOrigin"]="50% 100%",z[E-1].className+=" swipe"),k&&(k[e+"TransitionDuration"]="0ms",k[e+"Transform"]="translate(0,"+g+"px) translateZ(0)",k[e+"TransformOrigin"]="50% 0%",z[E+1].className+=" swipe")},o=function(a){var b=Math.abs(a.y/g),c=" scale("+(q+r*b)+") rotate("+(s+t*b)+"deg)";j&&0<a.y&&(j.opacity=v+x*b,j[e+"Transform"]="translate(0,"+(a.y-g)+"px) translateZ(0)"+c),k&&0>a.y&&(k.opacity=v+x*b,k[e+"Transform"]="translate(0,"+(g+a.y)+"px) translateZ(0)"+c)},m=function(a,b){var c=C>>1;u(z[E+b],"swipe","slide"),a.opacity=1,a[e+"TransitionDuration"]=c+"ms",a[e+"Transform"]="translate(0,"+b*g+"px) translateZ(0)",setTimeout(function(){u(z[E+b],"slide",""),setTimeout(function(){I=!1},50)},c)},n=function(b,c){var d=E+c,f=~~(C/1.5),g=z[E-c];g&&u(g,"swipe",""),0>d||d>A-1?setTimeout(function(){I=!1},50):(J&&w(E,d),b.opacity=1,u(z[d],"swipe","slide"),b[e+"TransitionDuration"]=f+"ms",b[e+"Transform"]="translate(0,0) translateZ(0)",setTimeout(function(){u(z[E],"current",""),u(z[d],"slide","current"),E=d,a.callback&&a.callback(E,z[E]),setTimeout(function(){I=!1},50)},f))}):(l=function(){j=F[E-1],k=F[E+1],j&&(j[e+"TransitionDuration"]="0ms",j[e+"Transform"]="translate(-"+f+"px,0) translateZ(0)",j[e+"TransformOrigin"]="100% 50%",z[E-1].className+=" swipe"),k&&(k[e+"TransitionDuration"]="0ms",k[e+"Transform"]="translate("+f+"px,0) translateZ(0)",k[e+"TransformOrigin"]="0 50%",z[E+1].className+=" swipe")},o=function(a){var b=Math.abs(a.x/f),c=" scale("+(q+r*b)+") rotate("+(s+t*b)+"deg)";j&&0<a.x&&(console.log(),j.opacity=v+x*b,j[e+"Transform"]="translate("+(a.x-f)+"px,0) translateZ(0)"+c),k&&0>a.x&&(k.opacity=v+x*b,k[e+"Transform"]="translate("+(f+a.x)+"px,0) translateZ(0)"+c)},m=function(a,b){var c=C>>1;u(z[E+b],"swipe","slide"),a.opacity=1,a[e+"TransitionDuration"]=c+"ms",a[e+"Transform"]="translate("+b*f+"px,0) translateZ(0)",setTimeout(function(){u(z[E+b],"slide",""),setTimeout(function(){I=!1},50)},c)},n=function(b,c){var d=E+c,f=~~(C/1.5),g=z[E-c];g&&u(g,"swipe",""),0>d||d>A-1?setTimeout(function(){I=!1},50):(J&&w(E,d),u(z[d],"swipe","slide"),b.opacity=1,b[e+"TransitionDuration"]=f+"ms",b[e+"Transform"]="translate(0,0) translateZ(0)",setTimeout(function(){u(z[E],"current",""),u(z[d],"slide","current"),E=d,a.callback&&a.callback(E,z[E]),setTimeout(function(){I=!1},50)},f))}),b=function(b){var c=b.touches[0];b.preventDefault(),1<event.touches.length||event.scale&&1!==event.scale||(B={x:c.pageX-d,y:c.pageY-h},G?p&&o(B):(p=Math.abs(B.x)>Math.abs(B.y)?"X":"Y",p=p===a.effect.transform.translate?!0:!1,G=!0))},c=function(e){var l=e.changedTouches[0];e=+new Date-i;var o;o=0;var q=!1;switch(B={x:l.pageX-d,y:l.pageY-h},l=Math.abs(B.x),o=Math.abs(B.y),a.effect.transform.translate){case"Y":q=250>+e&&o>30||o>.3*g,o=0<B.y?-1:1;break;case"X":q=250>+e&&l>30||l>.3*f,o=0<B.x?-1:1;break;default:q=350>+e&&o+l>50||o>.3*g||l>.3*f,o=l>o?0<B.x?-1:1:0<B.y?-1:1}q&&p?-1===o?n(j,-1):n(k,1):(j&&m(j,-1),k&&m(k,1)),y.removeEventListener("touchmove",b,!1),y.removeEventListener("touchend",c,!1)},y.addEventListener("touchstart",function(a){a=a.touches[0],I||(I=!0,d=a.pageX,h=a.pageY,i=+new Date,B={},G=!1,l(),y.addEventListener("touchmove",b,!1),y.addEventListener("touchend",c,!1))},!1)}();break;case-1!==b.indexOf("nav:"):!function(){var a,c,d=b.split(":")[1],d=document.getElementById(d);if(m=d.children,a=m.length,c=m[E].className,d&&m){for(;a--;)m[a].setAttribute("data-page",a);-1===c.indexOf("active")&&(m[E].className=""===c?"active":c+" active"),a=function(a){var b;for(a=a||window.event,a=a.target||a.srcElement,b=a.tagName.toLowerCase();"li"!==b;){if("ul"===b)return;a=a.parentNode,b=a.tagName.toLowerCase()}v(+a.getAttribute("data-page"))},t(d,a,1)}}()}})(G[l]);return{thisPage:function(){return E},go:function(a){v(a)},next:function(){v(E+1)},prev:function(){v(E-1)}}}}